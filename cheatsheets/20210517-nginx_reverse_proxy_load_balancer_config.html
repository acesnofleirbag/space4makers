<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>space4makers</title>
    <link rel="stylesheet" href="../styles.css">
</head>
<body>
    <pre>
Nginx: Reverse Proxy, Load Balancer - Config
===

Configuration File
---

The nginx config file is located on: '/etc/nginx/conf.d/default.conf'

Working As Reverse Proxy
---

To work as reverse poroxy inside the config file it's necessary the following
rules:

<code>
location {
   proxy_pass http://&lt;address&gt;;
}
</code>

Working As Load Balancer
---

To work as load balancer inside the config file it's necessary the following
rules:

- create a server group

<code>
upstream &lt;upstream-name&gt; {
   server &lt;address1&gt;;
   server &lt;address2&gt;;
}
</code>

- setup the server group

<code>
location {
   proxy_pass http://&lt;upstream-name&gt;;

   // forward the real request ip address
   proxy_set_headers X-Header-Name $remote_addr;
}
</code>

Obs: Inside the workers on '/etc/nginx/nginx.conf' it's necessary to put the
header inside the object 'http' on log_format

Supplementary Resources
---

- https://nginx.org/en/
    </pre>
</body>
</html>
